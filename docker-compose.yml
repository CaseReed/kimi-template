# ==========================================
# kimi-template - Docker Compose (Development)
# ==========================================

version: '3.8'

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile.dev
    container_name: kimi-template-dev
    ports:
      - "3001:3000"
    volumes:
      # Mount source code for hot reload
      - .:/app
      # Use named volumes for node_modules to avoid conflicts
      - node_modules:/app/node_modules
      - next_cache:/app/.next
    environment:
      - NODE_ENV=development
      - NEXT_TELEMETRY_DISABLED=1
      # Add your environment variables here
      # - NEXT_PUBLIC_API_URL=http://localhost:3000
    # Enable stdin/tty for debugging
    stdin_open: true
    tty: true

volumes:
  node_modules:
  next_cache:
